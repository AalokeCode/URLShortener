<!DOCTYPE html>
<html lang="en" class="h-full">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="shortcut icon" href="/static/favicon.svg" />
    <title>Sign Up - trim.lol</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300..700&display=swap"
      rel="stylesheet" />
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300..700&display=swap");

      * {
        font-family: "Space Grotesk", sans-serif;
      }

      .buttoninvis {
        display: none;
      }
    </style>
  </head>

  <body class="h-full w-full bg-zinc-950">
    <div
      class="flex justify-center items-center gap-10 flex-col w-full h-full bg-[url('static/bg-gradient.png')] bg-top text-white">
      <img src="static/logo.svg" class="w-56 pb-3" />
      <div
        class="p-20 m-3 rounded-xl flex items-center flex-col gap-3 bg-zinc-900">
        <h1 class="text-3xl font-bold text-center">Generate New UserID</h1>
        <div class="flex gap-2 mb-2">
          <h1 class="text-2xl text-center" id="userID">{{userID}}</h1>
          <button onclick="copyContent()" id="copyButton">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="32"
              height="32"
              class="fill-white"
              viewBox="0 0 256 256">
              <path
                d="M200,32H163.74a47.92,47.92,0,0,0-71.48,0H56A16,16,0,0,0,40,48V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V48A16,16,0,0,0,200,32Zm-72,0a32,32,0,0,1,32,32H96A32,32,0,0,1,128,32Zm72,184H56V48H82.75A47.93,47.93,0,0,0,80,64v8a8,8,0,0,0,8,8h80a8,8,0,0,0,8-8V64a47.93,47.93,0,0,0-2.75-16H200Z"></path>
            </svg>
          </button>
        </div>
        <form method="post">
          <button
            type="submit"
            value="submit"
            class="{{buttonVisible}} text-center bg-blue-700 mb-5 hover:bg-blue-800 transition ease-in-out duration-200 text-white rounded-lg p-2 px-8">
            Generate new UserId
          </button>
        </form>
        <a href="/stats" class="underline text-zinc-400"
          >Proceed to Main Page â†’</a
        >
      </div>
    </div>
    <script>
      function sleep(ms) {
        return new Promise((resolve) => setTimeout(resolve, ms));
      }
      let text = document.getElementById("userID").innerHTML;
      let button = document.getElementById("copyButton").innerHTML;
      const copyContent = async () => {
        try {
          await navigator.clipboard.writeText(text);
          console.log("Content copied to clipboard");

          copyButton.innerHTML =
            '<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="#fff" viewBox="0 0 256 256"><path d="M229.66,77.66l-128,128a8,8,0,0,1-11.32,0l-56-56a8,8,0,0,1,11.32-11.32L96,188.69,218.34,66.34a8,8,0,0,1,11.32,11.32Z"></path></svg>';
          await sleep(1000);
          copyButton.innerHTML =
            '<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="#fff" viewBox="0 0 256 256"> <path d="M200,32H163.74a47.92,47.92,0,0,0-71.48,0H56A16,16,0,0,0,40,48V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V48A16,16,0,0,0,200,32Zm-72,0a32,32,0,0,1,32,32H96A32,32,0,0,1,128,32Zm72,184H56V48H82.75A47.93,47.93,0,0,0,80,64v8a8,8,0,0,0,8,8h80a8,8,0,0,0,8-8V64a47.93,47.93,0,0,0-2.75-16H200Z"></path></svg>';
        } catch (err) {
          console.error("Failed to copy: ", err);
        }
      };
    </script>
  </body>
</html>
